<!DOCTYPE html>
<html>
    <head> <title>Check Box</title> </head>
        <body>
            <form>
                <label>
                    Category 
                    <select id='cat'>
                        <option value=''>select</option>
                    </select>
                </label><br>
                <label>
                    Sub Category - (<span id='count'>0</span>)
                    <div id='sub'></div>
                </label>
            </form>

            <script>
                const cat = document.getElementById('cat')
                const subCat = document.getElementById('sub')
                const count = document.getElementById('count')

                const category = [
                    {id:1, name: 'Electronics'},
                    {id:2, name: 'Furniture'}
                ]

                const sub = [
                    {id:1, name: 'Laptop', catId: 1},
                    {id:2, name: 'Table', catId: 2},
                    {id:3, name: 'Speaker', catId: 1},
                    {id:4, name: 'Sofa', catId: 2},
                    {id:5, name: 'ear-phone', catId: 1}
                ]
            
                category.forEach(function(category){
                    const option = document.createElement('option')
                    option.value = category.id
                    option.textContent = category.name
                    cat.appendChild(option)
                })
        
                cat.addEventListener('change',function(){
                    subCat.innerHTML = ''
                    const itemArray = []       
                    const catId = cat.value
                    
                    const filterSubItems = sub.filter(function(subItem){
                        return catId == subItem.catId
                    })
                    count.innerHTML = filterSubItems.length
                    filterSubItems.forEach(function(item){
                        itemArray.push(item) 
                        const checkbox = document.createElement('input')
                        checkbox.type = 'checkbox'
                        checkbox.name = item.id
                        checkbox.value = item.id
                        const label = document.createElement('label')
                        label.appendChild(document.createTextNode(item.name))
                        subCat.append(checkbox)
                        subCat.append(label)
                })
                console.log(itemArray)            
                })
            </script>
        </body>
</html>